let t;function e(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}function n(t){return t&&t.__esModule?t.default:t}var r=globalThis,i={},a={},o=r.parcelRequire6f20;null==o&&((o=function(t){if(t in i)return i[t].exports;if(t in a){var e=a[t];delete a[t];var n={id:t,exports:{}};return i[t]=n,e.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){a[t]=e},r.parcelRequire6f20=o);var l=o.register;l("dRo73",function(t,n){e(t.exports,"register",()=>r,t=>r=t);var r,i=new Map;r=function(t,e){for(var n=0;n<e.length-1;n+=2)i.set(e[n],{baseUrl:t,path:e[n+1]})}}),l("8PRdk",function(t,n){e(t.exports,"default",()=>r);var r=class{constructor({isFullScreen:t,canvas:e,onSuccess:n,onCancel:r,primaryColor:i="#F56C6C",maskColor:a="rgba(128, 128, 128, 0.6)",btnTextColor:o="#FFFFFF",textTitle:l="游戏结束",successBtnText:c="重新开始",cancelBtnText:s="取消",titleH:d=50,titleBtnSpacing:p=50,btnH:f=40,btnPadding:g=10,btnSpacing:H=40}){Object.assign(this,{isFullScreen:!1,onSuccess:n,onCancel:r,primaryColor:i,maskColor:a,btnTextColor:o,textTitle:l,successBtnText:c,cancelBtnText:s,W:e?.width,H:e?.height,titleH:d,titleBtnSpacing:p,btnH:f,btnPadding:g,btnSpacing:H}),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.id=`mask-canvas-${new Date().getTime()}`,t?(this.canvas.width=window.innerWidth,this.W=window.innerWidth,this.canvas.height=window.innerHeight,this.H=window.innerHeight,this.canvas.style.cssText="position: absolute; inset: 0; margin: auto; cursor: pointer;",document.body.appendChild(this.canvas)):(this.canvas.width=this.W,this.canvas.height=this.H,this.canvas.style.cssText="position: absolute; inset: 0; margin: auto; cursor: pointer;",e.parentNode.appendChild(this.canvas)),this.drawMask(),this.drawTitle(),this.drawButtons()}drawMask(){let{ctx:t,H:e,W:n,maskColor:r}=this;t.fillStyle=r,t.fillRect(0,0,n,e)}drawTitle(){let{ctx:t,H:e,W:n,btnH:r,textTitle:i,titleH:a,titleBtnSpacing:o,primaryColor:l}=this;t.font=`${a}px Arial`,t.textAlign="center",t.textBaseline="top",t.fillStyle=l,t.fillText(i,n/2,(e-a-o-r)/2)}drawButtons(){let{canvas:t,ctx:e,H:n,W:r,btnTextColor:i,primaryColor:a,onSuccess:o,onCancel:l,titleH:c,titleBtnSpacing:s,successBtnText:d,cancelBtnText:p,btnH:f,btnPadding:g,btnSpacing:H}=this;e.font=`${f-2*g}px Arial`,e.textBaseline="top",e.textAlign="left";let u=e.measureText(d).width+2*g,h=e.measureText(p).width+2*g,m=(n+c+s)/2-f/2,x=(r-u-h-H)/2,S=x+u+H,_=[x,x+u,m,m+f],R=[S,S+h,m,m+f];e.fillStyle=a,e.fillRect(x,m,u,f),e.fillRect(S,m,h,f),e.fillStyle=i,e.fillText(d,x+g,m+g),e.fillText(p,S+g,m+g);let b=(t,e,[n,r,i,a])=>t>=n&&t<=r&&e>=i&&e<=a;t.onclick=t=>[o,l][[_,R].findIndex(e=>b(t.offsetX,t.offsetY,e)&&(this.close(),!0))]?.()}close(){this.ctx.clearRect(0,0,this.W,this.H),this.canvas.onclick=null,document.getElementById(this.canvas.id).remove()}}}),o("dRo73").register(new URL("",import.meta.url).toString(),JSON.parse('["2azQZ","index.6e76efb1.js","iJRo9","../../1.6a13da6b.jpg","ipDpp","../../2.79f62ab7.jpg","k9cm9","../../3.befba8c5.jpg","bnZNv","../../4.cd8a4663.jpg","8Obk0","../../5.aabd2e3f.jpg","8whIW","../../6.f8bd7b96.jpg","2ypfC","../../7.ee282bc1.jpg","e0mL4","../../8.dc49f5aa.jpg","9bUDr","../../9.6490605c.jpg","jaKF2","../../10.5ec68f07.jpg","aH5ub","../../11.ac78ea64.jpg","2A4rN","../../12.cf884c2a.jpg","dHmkK","../../13.19815d43.jpg","1rBeV","../../14.f363d0c4.jpg","1mvLs","../../15.13cdb960.jpg","kzU9y","../../16.df82ff1c.jpg","hd8t2","../../17.77e0b12b.jpg","tcdFn","../../18.b0432aad.jpg","7GaMD","../../19.372b5444.jpg","anvwP","../../20.a0d7bd23.jpg"]'));var c=o("8PRdk"),s={};s=new URL("../../1.6a13da6b.jpg",import.meta.url).toString();var d={};d=new URL("../../2.79f62ab7.jpg",import.meta.url).toString();var p={};p=new URL("../../3.befba8c5.jpg",import.meta.url).toString();var f={};f=new URL("../../4.cd8a4663.jpg",import.meta.url).toString();var g={};g=new URL("../../5.aabd2e3f.jpg",import.meta.url).toString();var H={};H=new URL("../../6.f8bd7b96.jpg",import.meta.url).toString();var u={};u=new URL("../../7.ee282bc1.jpg",import.meta.url).toString();var h={};h=new URL("../../8.dc49f5aa.jpg",import.meta.url).toString();var m={};m=new URL("../../9.6490605c.jpg",import.meta.url).toString();var x={};x=new URL("../../10.5ec68f07.jpg",import.meta.url).toString();var S={};S=new URL("../../11.ac78ea64.jpg",import.meta.url).toString();var _={};_=new URL("../../12.cf884c2a.jpg",import.meta.url).toString();var R={};R=new URL("../../13.19815d43.jpg",import.meta.url).toString();var b={};b=new URL("../../14.f363d0c4.jpg",import.meta.url).toString();var w={};w=new URL("../../15.13cdb960.jpg",import.meta.url).toString();var y={};y=new URL("../../16.df82ff1c.jpg",import.meta.url).toString();var F={};F=new URL("../../17.77e0b12b.jpg",import.meta.url).toString();var E={};E=new URL("../../18.b0432aad.jpg",import.meta.url).toString();var v={};v=new URL("../../19.372b5444.jpg",import.meta.url).toString();var A={};A=new URL("../../20.a0d7bd23.jpg",import.meta.url).toString();const j=window.devicePixelRatio||1,C=window.innerWidth<768?60:100,T=C/12,U=C/12,k=C/2+T,B=10/j,L=Math.floor((window.innerWidth-2*k-B)/(C+B)),W=(t=Math.floor((window.innerHeight-2*k-B)/(C+B)),L%2&&t%2?t-1:t),P=L*(C+B)+B+2*k,M=W*(C+B)+B+2*k,D=[n(s),n(d),n(p),n(f),n(g),n(H),n(u),n(h),n(m),n(x),n(S),n(_),n(R),n(b),n(w),n(y),n(F),n(E),n(v),n(A)],O=["#409EFF","#67C23A","#E6A23C","#F56C6C","#B37FEB","#FF85C0","#36CFC9"],N="#00AEEC",I="#00AEEC",Y="#F8BBD0";let z=document.createElement("canvas"),X=z.getContext("2d");z.style.cssText="position: absolute; inset: 0; margin: auto; cursor: pointer;-webkit-user-select: none; -moz-user-select: none; ms-user-select: none; user-select: none;",z.width=P*j,z.height=M*j,z.style.width=P+"px",z.style.height=M+"px",document.body.appendChild(z),X.scale(j,j),document.body.style.backgroundColor=Y;let $=Array.from({length:L+2},()=>Array(W+2).fill(-1)),q={x:-1,y:-1},J=[],K=[],Z=0,G=null,Q=!1,V=0,tt=[],te=Array(D.length).fill(!1);document.addEventListener("keydown",t=>"A"===t.key.toUpperCase()&&!Q&&tn());const tn=async()=>{Q=!0;let{x:t,y:e}=K[0],{x:n,y:r}=K[K.length-1];td(t,e),td(n,r),tm(K),$[t][e]=-1,$[n][r]=-1,Z++,await tr(369),tx(),ti()?ta():tn()};z.onclick=async t=>{let[e,n]=[t.offsetX,t.offsetY].map(t=>Math.ceil((t-k)/(C+B)));if(t.offsetX-(e-1)*(C+B)-k<B||t.offsetY-(n-1)*(C+B)-k<B||-1===$[e][n])return;td(e,n);let r=q.x,i=q.y;if(-1===r&&-1===i)q={x:e,y:n};else{if(r===e&&i===n){q={x:-1,y:-1},tp(e,n);return}(J=tc(q,{x:e,y:n}))?(tm(J),$[r][i]=-1,$[e][n]=-1,q={x:-1,y:-1},Z++,await tr(369),tx(),ti()&&ta()):(tp(r,i),q={x:e,y:n})}};const tr=t=>new Promise(e=>setTimeout(e,t)),ti=()=>2*Z==W*L,ta=()=>new c.default({onSuccess:tS,isFullScreen:!0,textTitle:"You Win!",successBtnText:"Restart",cancelBtnText:"Cancel",primaryColor:"#00AEEC",maskColor:"#F8BBD0",titleH:.15*window.innerWidth,titleBtnSpacing:.15*window.innerHeight,btnH:.08*window.innerWidth,btnPadding:.02*window.innerWidth,btnSpacing:.05*window.innerWidth}),to=(t,e)=>{let{x:n,y:r}=t,{x:i,y:a}=e;return n===i?(r>a&&([r,a]=[a,r]),$[n].slice(r+1,a).every(t=>-1===t)):r===a&&(n>i&&([n,i]=[i,n]),$.slice(n+1,i).every(t=>-1===t[r]))},tl=(t,e)=>{let{x:n,y:r}=t,{x:i,y:a}=e;for(let[o,l]of[[1,0],[-1,0],[0,1],[0,-1]]){let c=0,s=n,d=r,p={},f={};for(;$[s=n+o*++c]?.[d=r+l*c]===-1;){if(p={x:s,y:d},(f=0===o?{x:i,y:d}:{x:s,y:a}).x===i&&f.y===a&&to(p,e))return[t,p,e];if(-1===$[f.x][f.y]&&to(p,f)&&to(f,e))return[t,p,f,e]}}return!1},tc=(t,e)=>$[t.x][t.y]===$[e.x][e.y]&&(to(t,e)?[t,e]:tl(t,e)),ts=()=>{if(V++>1e3)return alert("未知错误，请重新刷新页面"),!0;let t={};for(let e of($.forEach((e,n)=>e.forEach((e,r)=>-1!==e&&t[e]?t[e].push({x:n,y:r}):t[e]=[{x:n,y:r}])),Object.values(t)))for(let t=0;t<e.length;t++)for(let n=t+1;n<e.length;n++)if(K=tc(e[t],e[n]))return!0;return!1},td=(t,e,n=N)=>{X.strokeStyle=n,X.lineWidth=U,X.strokeRect(tf(t)+U/2,tf(e)+U/2,C-U,C-U)},tp=(t,e)=>th(t,e,$[t][e]),tf=t=>(t-1)*(C+B)+B+k,tg=t=>t.sort(()=>Math.random()-.5),tH=()=>{let t=[],e=0;for(let n=0;n<W*L/2;n++)e=n%D.length,t.push(e,e);let n=tg(t);for(let t=1;t<L+1;t++)for(let e=1;e<W+1;e++)$[t][e]=n.pop()},tu=()=>{console.log("需要打乱数据");let t=[];for(let e=1;e<L+1;e++)for(let n=1;n<W+1;n++)t.push($[e][n]);let e=tg(t);for(let t=1;t<L+1;t++)for(let n=1;n<W+1;n++)$[t][n]=e.pop()},th=(t,e,n,r=C)=>{t=tf(t),e=tf(e),te[n]?(X.strokeStyle=Y,X.strokeRect(t,e,r,r),X.drawImage(tt[n],t,e,r,r)):(X.fillStyle=O[n%O.length],X.fillRect(t,e,r,r))},tm=(t,e=T,n=I)=>{let r=(t=t.map(t=>({...t,ox:.5,oy:.5}))).length;t[0].x===t[1].x?t[0].oy=+(t[0].y<t[1].y):t[0].ox=+(t[0].x<t[1].x),t[r-1].x===t[r-2].x?t[r-1].oy=+(t[r-1].y<t[r-2].y):t[r-1].ox=+(t[r-1].x<t[r-2].x),t=t.map(({x:t,y:e,ox:n,oy:r})=>({x:tf(t)+C*n,y:tf(e)+C*r})),X.lineWidth=e,X.strokeStyle=n,X.beginPath();let{x:i,y:a}=t.shift();X.moveTo(i,a),t.forEach(({x:t,y:e})=>X.lineTo(t,e)),X.stroke()},tx=()=>{if(clearTimeout(G),!ti()){for(V=0;!ts();)tu();G=setTimeout(()=>{let{x:t,y:e}=K[0],{x:n,y:r}=K[K.length-1];td(t,e,"red"),td(n,r,"red")},1e4)}X.clearRect(0,0,P,M);for(let t=1;t<L+1;t++)for(let e=1;e<W+1;e++)-1!==$[t][e]&&th(t,e,$[t][e])},tS=()=>{q={x:-1,y:-1},Z=0,G=null,Q=!1,V=0,tH(),tx()},t_=async()=>{tH(),D.forEach((t,e)=>{if(te[e])return;let n=new Image;n.src=t,tt[e]=n,n.onload=()=>{te[e]=!0;for(let t=1;t<L+1;t++)for(let n=1;n<W+1;n++)$[t][n]===e&&th(t,n,$[t][n])}}),tx()};window.onload=t_;