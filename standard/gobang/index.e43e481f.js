var t=globalThis,e={},i={},n=t.parcelRequire6f20;null==n&&((n=function(t){if(t in e)return e[t].exports;if(t in i){var n=i[t];delete i[t];var l={id:t,exports:{}};return e[t]=l,n.call(l.exports,l,l.exports),l.exports}var a=Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){i[t]=e},t.parcelRequire6f20=n),(0,n.register)("8PRdk",function(t,e){Object.defineProperty(t.exports,"default",{get:()=>i,set:void 0,enumerable:!0,configurable:!0});var i=class{constructor({isFullScreen:t,canvas:e,onSuccess:i,onCancel:n,primaryColor:l="#F56C6C",maskColor:a="rgba(128, 128, 128, 0.6)",btnTextColor:s="#FFFFFF",textTitle:o="游戏结束",successBtnText:r="重新开始",cancelBtnText:c="取消",titleH:d=50,titleBtnSpacing:h=50,btnH:f=40,btnPadding:u=10,btnSpacing:p=40}){Object.assign(this,{isFullScreen:!1,onSuccess:i,onCancel:n,primaryColor:l,maskColor:a,btnTextColor:s,textTitle:o,successBtnText:r,cancelBtnText:c,W:e?.width,H:e?.height,titleH:d,titleBtnSpacing:h,btnH:f,btnPadding:u,btnSpacing:p}),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.id=`mask-canvas-${new Date().getTime()}`,t?(this.canvas.width=window.innerWidth,this.W=window.innerWidth,this.canvas.height=window.innerHeight,this.H=window.innerHeight,this.canvas.style.cssText="position: absolute; inset: 0; margin: auto; cursor: pointer;",document.body.appendChild(this.canvas)):(this.canvas.width=this.W,this.canvas.height=this.H,this.canvas.style.cssText="position: absolute; inset: 0; margin: auto; cursor: pointer;",e.parentNode.appendChild(this.canvas)),this.drawMask(),this.drawTitle(),this.drawButtons()}drawMask(){let{ctx:t,H:e,W:i,maskColor:n}=this;t.fillStyle=n,t.fillRect(0,0,i,e)}drawTitle(){let{ctx:t,H:e,W:i,btnH:n,textTitle:l,titleH:a,titleBtnSpacing:s,primaryColor:o}=this;t.font=`${a}px Arial`,t.textAlign="center",t.textBaseline="top",t.fillStyle=o,t.fillText(l,i/2,(e-a-s-n)/2)}drawButtons(){let{canvas:t,ctx:e,H:i,W:n,btnTextColor:l,primaryColor:a,onSuccess:s,onCancel:o,titleH:r,titleBtnSpacing:c,successBtnText:d,cancelBtnText:h,btnH:f,btnPadding:u,btnSpacing:p}=this;e.font=`${f-2*u}px Arial`,e.textBaseline="top",e.textAlign="left";let x=e.measureText(d).width+2*u,g=e.measureText(h).width+2*u,w=(i+r+c)/2-f/2,m=(n-x-g-p)/2,v=m+x+p,T=[m,m+x,w,w+f],b=[v,v+g,w,w+f];e.fillStyle=a,e.fillRect(m,w,x,f),e.fillRect(v,w,g,f),e.fillStyle=l,e.fillText(d,m+u,w+u),e.fillText(h,v+u,w+u);let C=(t,e,[i,n,l,a])=>t>=i&&t<=n&&e>=l&&e<=a;t.onclick=t=>[s,o][[T,b].findIndex(e=>C(t.offsetX,t.offsetY,e)&&(this.close(),!0))]?.()}close(){this.ctx.clearRect(0,0,this.W,this.H),this.canvas.onclick=null,document.getElementById(this.canvas.id).remove()}}});var l=n("8PRdk");const a=Math.min(window.innerWidth,window.innerHeight)/18,s=16*a,o="#E4A751",r=1,c="#000000";let d=document.createElement("canvas"),h=d.getContext("2d");d.width=d.height=s,d.style.cssText="position: absolute; inset: 0; margin: auto;cursor: pointer;",document.body.appendChild(d);let f=Array.from({length:15},()=>Array(15).fill(-1)),u=!0,p=0;d.onclick=t=>{let[e,i]=[t.offsetX,t.offsetY].map(t=>Math.round(t/a)-1);f[e]?.[i]===-1&&(w(e,i,u),f[e][i]=u?1:2,T(e,i,f[e][i],f)?v(`${u?"黑":"白"}\u{68CB}\u{8D62}\u{4E86}!`):225==++p?v("游戏结束，平局！"):u=!u)};const x=()=>{h.fillStyle=o,h.fillRect(0,0,s,s);for(let t=0;t<15;t++)g(0,t,14,t),g(t,0,t,14)},g=(t,e,i,n,l=r,s=c)=>{h.lineWidth=l,h.strokeStyle=s,h.beginPath(),h.moveTo(t*a+a,e*a+a),h.lineTo(i*a+a,n*a+a),h.stroke()},w=(t,e,i)=>{h.save(),h.beginPath(),t=t*a+a,e=e*a+a,h.arc(t,e,.4*a,0,2*Math.PI),h.closePath(),h.shadowColor="rgba(0, 0, 0, 0.5)",h.shadowOffsetX=h.shadowOffsetY=.06*a,h.shadowBlur=.04*a;let n=h.createRadialGradient(t,e,0,t,e,.4*a);n.addColorStop(0,i?"#707070":"#FFFFFF"),n.addColorStop(1,i?"#000000":"#D5D8DC"),h.fillStyle=n,h.fill(),h.restore()},m=()=>{h.clearRect(0,0,s,s),x(),f=Array.from({length:15},()=>Array(15).fill(-1)),u=!0,p=0},v=t=>new l.default({canvas:d,onSuccess:m,primaryColor:o,textTitle:t}),T=(t,e,i,n)=>{for(let[l,a]of[[1,0],[0,1],[1,1],[1,-1]]){let s=1,o=0,r=0;for(;s<5&&n[t+l*++o]?.[e+a*o]===i;)s++;for(;s<5&&n[t-l*++r]?.[e-a*r]===i;)s++;if(5===s)return g(t+l*(o=4-r),e+a*o,t-l*r,e-a*r,5,"#F05459"),!0}return!1};window.onload=x;